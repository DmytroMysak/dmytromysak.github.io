import{B as I,F as X,G as Q,H as Z,J as i,T as ee,R as _,x as j,z as te,bg as ae,C as le,I as ne,L as ie,bh as T,bi as oe,bj as ue,av as re,U as M,V as se,Y as E,Z as O,ag as ce,a1 as P,aj as w,a5 as N,a0 as k,ah as de,$ as K,a7 as fe,ar as ge,Q as ve,a6 as me,a2 as be,a4 as ye}from"./index-CmuCMgBa.js";import{Q as pe}from"./QInput-Lm2QrpE2.js";import{b as he,f as xe}from"./format-Dq9uPdyY.js";import{s as A}from"./searchFilter-B46quSSD.js";import{a as Se}from"./QSelect-B1fV5hfF.js";import{Q as _e}from"./QBtnDropdown-BGAbgpwa.js";import{C as Pe}from"./ClosePopup-Bnjv8jFB.js";const ke={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function Ce(){const{props:e,proxy:{$q:r}}=I(),s=X(Z,Q);if(s===Q)return console.error("QPageSticky needs to be child of QLayout"),Q;const n=i(()=>{const u=e.position;return{top:u.indexOf("top")!==-1,right:u.indexOf("right")!==-1,bottom:u.indexOf("bottom")!==-1,left:u.indexOf("left")!==-1,vertical:u==="top"||u==="bottom",horizontal:u==="left"||u==="right"}}),c=i(()=>s.header.offset),o=i(()=>s.right.offset),t=i(()=>s.footer.offset),f=i(()=>s.left.offset),m=i(()=>{let u=0,d=0;const g=n.value,y=r.lang.rtl===!0?-1:1;g.top===!0&&c.value!==0?d=`${c.value}px`:g.bottom===!0&&t.value!==0&&(d=`${-t.value}px`),g.left===!0&&f.value!==0?u=`${y*f.value}px`:g.right===!0&&o.value!==0&&(u=`${-y*o.value}px`);const x={transform:`translate(${u}, ${d})`};return e.offset&&(x.margin=`${e.offset[1]}px ${e.offset[0]}px`),g.vertical===!0?(f.value!==0&&(x[r.lang.rtl===!0?"right":"left"]=`${f.value}px`),o.value!==0&&(x[r.lang.rtl===!0?"left":"right"]=`${o.value}px`)):g.horizontal===!0&&(c.value!==0&&(x.top=`${c.value}px`),t.value!==0&&(x.bottom=`${t.value}px`)),x}),h=i(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function b(u){const d=ee(u.default);return _("div",{class:h.value,style:m.value},e.expand===!0?d:[_("div",d)])}return{$layout:s,getStickyContent:b}}const Ke=j({name:"QPageSticky",props:ke,setup(e,{slots:r}){const{getStickyContent:s}=Ce();return()=>s(r)}});function z(e,r){return[!0,!1].includes(e)?e:r}const Be=j({name:"QPagination",props:{...te,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||ae.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:r}){const{proxy:s}=I(),{$q:n}=s,c=le(e,n),o=i(()=>parseInt(e.min,10)),t=i(()=>parseInt(e.max,10)),f=i(()=>parseInt(e.maxPages,10)),m=i(()=>y.value+" / "+t.value),h=i(()=>z(e.boundaryLinks,e.input)),b=i(()=>z(e.boundaryNumbers,!e.input)),u=i(()=>z(e.directionLinks,e.input)),d=i(()=>z(e.ellipses,!e.input)),g=ne(null),y=i({get:()=>e.modelValue,set:a=>{if(a=parseInt(a,10),e.disable||isNaN(a))return;const l=he(a,o.value,t.value);e.modelValue!==l&&r("update:modelValue",l)}});ie(()=>`${o.value}|${t.value}`,()=>{y.value=e.modelValue});const x=i(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),F=i(()=>e.gutter in T?`${T[e.gutter]}px`:e.gutter||null),U=i(()=>F.value!==null?`--q-pagination-gutter-parent:-${F.value};--q-pagination-gutter-child:${F.value}`:null),V=i(()=>{const a=[e.iconFirst||n.iconSet.pagination.first,e.iconPrev||n.iconSet.pagination.prev,e.iconNext||n.iconSet.pagination.next,e.iconLast||n.iconSet.pagination.last];return n.lang.rtl===!0?a.reverse():a}),R=i(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),q=i(()=>oe(e,"flat")),Y=i(()=>({[q.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),G=i(()=>{const a={[q.value]:!1};return e.activeDesign!==""&&(a[e.activeDesign]=!0),a}),H=i(()=>({...G.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),C=i(()=>{let a=Math.max(f.value,1+(d.value?2:0)+(b.value?2:0));const l={pgFrom:o.value,pgTo:t.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(t.value).length)}em`}};return f.value&&a<t.value-o.value+1&&(a=1+Math.floor(a/2)*2,l.pgFrom=Math.max(o.value,Math.min(t.value-a+1,e.modelValue-Math.floor(a/2))),l.pgTo=Math.min(t.value,l.pgFrom+a-1),b.value&&(l.boundaryStart=!0,l.pgFrom++),d.value&&l.pgFrom>o.value+(b.value?1:0)&&(l.ellipsesStart=!0,l.pgFrom++),b.value&&(l.boundaryEnd=!0,l.pgTo--),d.value&&l.pgTo<t.value-(b.value?1:0)&&(l.ellipsesEnd=!0,l.pgTo--)),l});function D(a){y.value=a}function J(a){y.value=y.value+a}const W=i(()=>{function a(){y.value=g.value,g.value=null}return{"onUpdate:modelValue":l=>{g.value=l},onKeyup:l=>{ue(l,13)===!0&&a()},onBlur:a}});function p(a,l,B){const S={"aria-label":l,"aria-current":"false",...Y.value,...a};return B===!0&&Object.assign(S,{"aria-current":"true",...H.value}),l!==void 0&&(e.toFn!==void 0?S.to=e.toFn(l):S.onClick=()=>{D(l)}),_(re,S)}return Object.assign(s,{set:D,setByOffset:J}),()=>{const a=[],l=[];let B;if(h.value===!0&&(a.push(p({key:"bls",disable:e.disable||e.modelValue<=o.value,icon:V.value[0]},o.value)),l.unshift(p({key:"ble",disable:e.disable||e.modelValue>=t.value,icon:V.value[3]},t.value))),u.value===!0&&(a.push(p({key:"bdp",disable:e.disable||e.modelValue<=o.value,icon:V.value[1]},e.modelValue-1)),l.unshift(p({key:"bdn",disable:e.disable||e.modelValue>=t.value,icon:V.value[2]},e.modelValue+1))),e.input!==!0){B=[];const{pgFrom:S,pgTo:L,marginalStyle:$}=C.value;if(C.value.boundaryStart===!0){const v=o.value===e.modelValue;a.push(p({key:"bns",style:$,disable:e.disable,label:o.value},o.value,v))}if(C.value.boundaryEnd===!0){const v=t.value===e.modelValue;l.unshift(p({key:"bne",style:$,disable:e.disable,label:t.value},t.value,v))}C.value.ellipsesStart===!0&&a.push(p({key:"bes",style:$,disable:e.disable,label:"…",ripple:!1},S-1)),C.value.ellipsesEnd===!0&&l.unshift(p({key:"bee",style:$,disable:e.disable,label:"…",ripple:!1},L+1));for(let v=S;v<=L;v++)B.push(p({key:`bpg${v}`,style:$,disable:e.disable,label:v},v,v===e.modelValue))}return _("div",{class:x.value,...R.value},[_("div",{class:"q-pagination__content row no-wrap items-center",style:U.value},[...a,e.input===!0?_(pe,{class:"inline",style:{width:`${m.value.length/1.5}em`},type:"number",dense:!0,value:g.value,disable:e.disable,dark:c.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:m.value,min:o.value,max:t.value,...W.value}):_("div",{class:"q-pagination__middle row justify-center"},B),...l])])}}}),$e=M({__name:"pageSize",props:{filterKey:{}},emits:["onChange"],setup(e,{expose:r,emit:s}){r();const n=e,c=s,{capitalize:o}=xe,{pageSize:t}=A(n.filterKey),{t:f}=se({useScope:"global"}),m=[{label:"1-10",value:10},{label:"1-25",value:25},{label:"1-50",value:50},{label:"1-100",value:100}],h=i(()=>m.find(d=>d.value===t.value)?.label);function b(d){t.value=d,c("onChange")}const u={props:n,emit:c,capitalize:o,pageSize:t,t:f,list:m,selectedTitle:h,emitPageSizeChange:b};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),Ve={class:"row items-center no-wrap"},ze={class:"text-center gt-sm q-pl-xs"},Fe={class:"text-center"};function Qe(e,r,s,n,c,o){return O(),ce(_e,{"fab-mini":"",flat:""},{label:P(()=>[w("div",Ve,[w("span",ze,N(`${n.capitalize(n.t("pageSize"))}:`),1),w("span",Fe,N(n.selectedTitle),1)])]),default:P(()=>[k(de,null,{default:P(()=>[(O(),K(fe,null,ge(n.list,t=>ve(k(me,{clickable:"",key:t.value,onClick:f=>n.emitPageSizeChange(t.value)},{default:P(()=>[k(be,null,{default:P(()=>[k(Se,null,{default:P(()=>[ye(N(t.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),[[Pe]])),64))]),_:1})]),_:1})}const we=E($e,[["render",Qe],["__file","pageSize.vue"]]),Ne=M({__name:"paginationPageSize",props:{totalFiltered:{},filterKey:{}},emits:["onChange"],setup(e,{expose:r,emit:s}){r();const n=e,c=s,{pageSize:o,page:t}=A(n.filterKey),f=i(()=>Math.ceil((n.totalFiltered??1)/o.value));function m(){setTimeout(()=>c("onChange"))}const h={props:n,emit:c,pageSize:o,page:t,totalPages:f,valueChanged:m,PageSize:we};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),Oe={class:"q-pa-lg flex flex-center full-width"};function qe(e,r,s,n,c,o){return O(),K("div",Oe,[k(Be,{style:{"margin-left":"auto"},modelValue:n.page,"onUpdate:modelValue":[r[0]||(r[0]=t=>n.page=t),n.valueChanged],color:"primary",max:n.totalPages,"max-pages":6,ellipses:"","boundary-numbers":""},null,8,["modelValue","max"]),k(n.PageSize,{"filter-key":n.props.filterKey,onOnChange:n.valueChanged,style:{"margin-left":"auto"}},null,8,["filter-key"])])}const Ae=E(Ne,[["render",qe],["__file","paginationPageSize.vue"]]);export{Ae as P,Ke as Q};
