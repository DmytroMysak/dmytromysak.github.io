import{aV as u,aW as h,aD as s}from"./index-CmuCMgBa.js";import{g as l}from"./random.utils--ZVVX1T7.js";import{g as v}from"./QCardActions-CLJaF5Bu.js";import{A as f,s as y}from"./QSelect-B1fV5hfF.js";const J=u(()=>{const{addToAutocomplete:p}=f();Array.from({length:22},(e,t)=>t+1).forEach(e=>localStorage.removeItem(`shopping-v${e}`));const n=h("shopping-v23",y);function g(){return`/shopping/${l(1,36)}.jpg`}const c=async e=>{await p("ingredients",e.ingredients.map(r=>r.name)),await s();const t=new Date().toISOString(),o={...e,id:crypto.randomUUID(),favorite:!1,imageUrl:g(),createdAt:t,updatedAt:t};return n.value.push(o),o},d=async(e={})=>(await s(),v(n.value,e)),m=async e=>{n.value=n.value.filter(t=>t.id!==e)},i=async e=>{const t=n.value.find(o=>o.id===e);return t?JSON.parse(JSON.stringify(t)):void 0};return{removeShopping:m,getShoppingById:i,editShopping:async(e,t)=>{const o=await i(e);if(!o)return;await p("ingredients",t?.ingredients?.map(a=>a.name)),await s();const r=new Date().toISOString(),S=JSON.parse(JSON.stringify({...o,...t,updatedAt:r}));return n.value=n.value.map(a=>a.id===e?S:a),i(e)},getShopping:d,creteShopping:c}});export{J as S};
