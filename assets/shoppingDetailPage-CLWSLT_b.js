import{Q as x}from"./QInnerLoading-86XDDgru.js";import{Q as y}from"./QCardSection-NG0FHRHY.js";import{Q as S}from"./QCard-C4N2OtfF.js";import{Q as V}from"./QPage-Blsos2c0.js";import{S as B}from"./shopping.service-CSEzRJCL.js";import{U as C,W as Q,X as b,I as f,N as q,L as E,aD as D,Y as I,Z as d,ag as L,a1 as l,a0 as i,$ as h,aj as u,as as v,a5 as N}from"./index-CmuCMgBa.js";import{B as P}from"./breadcrumb.service-B5JON7r2.js";import{E as k}from"./editableText-Bw7tCjDH.js";import{F}from"./favoriteIcon-D9PrWxBc.js";import{E as O}from"./editableItems-WOirbmNq.js";import"./random.utils--ZVVX1T7.js";import"./QCardActions-CLJaF5Bu.js";import"./QSelect-B1fV5hfF.js";import"./QInput-Lm2QrpE2.js";import"./uid-Bzmka5Fh.js";import"./debounce-Dh_zIq8Y.js";import"./use-prevent-scroll-5Ac-51KI.js";import"./History-BRlARYUr.js";import"./rtl-DFPa-2ov.js";import"./is-BddHB8T5.js";import"./format-Dq9uPdyY.js";import"./QForm-BI170nwI.js";import"./ingredient.constant-DXTw5qQM.js";import"./validation.service-Bh9qf873.js";import"./QCheckbox-WeQmrjpL.js";import"./QExpansionItem-BRzWrkZm.js";import"./QSeparator-BZj1x5fP.js";const T=C({__name:"shoppingDetailPage",setup(p,{expose:t}){t();const n=Q(),e=b(),{updateTitle:s}=P(),{getShoppingById:m,editShopping:a}=B(),o=f(),g=f(!0);async function _(r,w){o.value=await a(o.value.id,{...o.value,...r}),s(1,o.value.name),w?.()}q(()=>{E(()=>e.params.id,async r=>{if(e.name==="ShoppingDetail"){if(!r||typeof r!="string"){await n.push({name:"NotFound"});return}if(await D(),o.value=await m(r),g.value=!1,!o.value){await n.push({name:"NotFound"});return}o.value.name&&s(1,o.value.name)}},{immediate:!0})});const c={router:n,route:e,updateTitle:s,getShoppingById:m,editShopping:a,shopping:o,isLoading:g,update:_,EditableText:k,FavoriteIcon:F,EditableItems:O};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),U={key:0,class:"row q-col-gutter-x-md q-col-gutter-y-md"},j={class:"col-12 title-height"},R={key:1,class:"row q-col-gutter-x-md q-col-gutter-y-md"},z={class:"col"},M={class:"text-h6 text-capitalize"};function W(p,t,n,e,s,m){return d(),L(V,{class:"q-pa-md q-col-gutter-x-md q-col-gutter-y-md gap-down"},{default:l(()=>[i(x,{showing:e.isLoading},null,8,["showing"]),!e.isLoading&&e.shopping?.name?(d(),h("div",U,[u("div",j,[i(e.EditableText,{class:"text-h5",modelValue:e.shopping.name,"onUpdate:modelValue":t[1]||(t[1]=a=>e.shopping.name=a),placeholder:p.$t("shopping.createTitlePlaceholder"),onOnChange:t[2]||(t[2]=(a,o)=>e.update({name:a},o))},{favoriteButtons:l(()=>[i(e.FavoriteIcon,{favorite:e.shopping?.favorite,onOnChange:t[0]||(t[0]=a=>e.update({favorite:a}))},null,8,["favorite"])]),_:1},8,["modelValue","placeholder"])])])):v("",!0),!e.isLoading&&e.shopping?(d(),h("div",R,[u("div",z,[i(S,null,{default:l(()=>[i(y,null,{default:l(()=>[u("div",M,N(p.$t("shopping.name")),1)]),_:1}),i(e.EditableItems,{modelValue:e.shopping.ingredients,"onUpdate:modelValue":t[3]||(t[3]=a=>e.shopping.ingredients=a),onOnChange:t[4]||(t[4]=(a,o)=>e.update({ingredients:a},o))},null,8,["modelValue"])]),_:1})])])):v("",!0)]),_:1})}const _e=I(T,[["render",W],["__scopeId","data-v-ef21e4ec"],["__file","shoppingDetailPage.vue"]]);export{_e as default};
