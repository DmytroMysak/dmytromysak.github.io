import{I as p}from"./ingredient.constant-DXTw5qQM.js";const g="Untitled";function b(t,e){return[...t.reduce((s,c)=>(s.has(c[e])||s.set(c[e],c),s),new Map).values()??[]]}function o(t,e,r,s){const c=t.filter(n=>n.type===e).reduce((n,m)=>n+m.number/s,0),a=t.filter(n=>n.type===r).reduce((n,m)=>n+Number(m.number),0),i=c+a;if(i<1)return t;const u=t.filter(n=>![e,r].includes(n.type)),f={recipes:t.filter(n=>[e,r].includes(n.type)).flatMap(n=>n.recipes??[]),name:t[0].name,number:i,type:r,checkbox:!1};return u.push(f),u}function y(t){return t.reduce((e,r)=>(e.number=Number(e.number)+Number(r.number),e.recipes||(e.recipes=[]),e.recipes.push(...r.recipes??[]),e))}function l(t){const e=Object.groupBy(t,r=>r.name);return Object.values(e).flatMap(r=>{const s=Object.groupBy(r??[],u=>u.type),c=Object.values(s).map(u=>y(u)),a=o(c,p.Gram,p.KiloGram,1e3);return o(a,p.Milliliter,p.Liter,1e3).map(u=>(u.recipes=b(u.recipes??[],"id"),u))})}function h(t){const e=t.flatMap(r=>r.ingredients.map(s=>({...s,checkbox:!1,recipes:[{id:r.id,name:r.name}]})));return l(e)}function L(t){const e=t.flatMap(r=>r?.ingredients??[]);return l(e)}export{g as D,h as c,L as m};
